export const perfumes = [
  {
    id: 1,
    name: "A LA ROSE",
    category: "Floral",
    description: "L'essence noble de la rose dans sa splendeur absolue, rehaussée par la profondeur de l'oud et la fraîcheur pétillante du pamplemousse.",
    notes: ["Rose", "Oud", "Pamplemousse", "Ambre", "Bois", "Sauge"],
    personality: ["élégant", "sophistiqué", "romantique", "noble"],
    mood: ["romantique", "confiant", "raffiné"]
  },
  {
    id: 2,
    name: "ACCORD",
    category: "Oriental",
    description: "Une symphonie parfaite où la vanille crémeuse danse avec l'encens mystique, portée par la lavande et le jasmin.",
    notes: ["Vanille", "Encens", "Lavande", "Jasmin", "Caramel"],
    personality: ["harmonieux", "mystérieux", "chaleureux", "équilibré"],
    mood: ["paisible", "mystérieux", "confortable"]
  },
  {
    id: 3,
    name: "AMBER NIGHT",
    category: "Oriental",
    description: "Les secrets de la nuit capturés dans l'ambre doré, où les baies roses murmurent avec le bois de gaiac sous un ciel étoilé.",
    notes: ["Baies Rose", "Bergamote", "Rose", "Ambre Gris", "Cèdre", "Bois de Gaiac"],
    personality: ["mystérieux", "sensuel", "nocturne", "raffiné"],
    mood: ["mystérieux", "séduisant", "contemplatif"]
  },
  {
    id: 4,
    name: "AQUA",
    category: "Frais",
    description: "Comme une brise marine au lever du jour, cette eau cristalline mêle bergamote et fleur d'oranger dans un éclat de pureté.",
    notes: ["Bergamote", "Citron", "Patchouli", "Ambre", "Fleur d'Oranger", "Vanille"],
    personality: ["frais", "pur", "énergique", "vivifiant"],
    mood: ["énergique", "optimiste", "libre"]
  },
  {
    id: 5,
    name: "ATLAS",
    category: "Boisé",
    description: "L'âme des montagnes ancestrales, où le bois de santal rencontre les épices dans un voyage vers les sommets.",
    notes: ["Bois de Santal", "Épices", "Cèdre", "Ambre"],
    personality: ["fort", "enraciné", "spirituel", "noble"],
    mood: ["contemplatif", "confiant", "ancré"]
  },
  {
    id: 6,
    name: "BISAP FLOWER",
    category: "Floral",
    description: "L'hibiscus rouge s'épanouit dans ce bouquet enivrant, mêlant rose et cannelle dans une danse florale exotique.",
    notes: ["Hibiscus", "Rose", "Cassis", "Ambrette", "Cannelle"],
    personality: ["exotique", "floral", "épicé", "vibrant"],
    mood: ["joyeux", "exotique", "passionné"]
  },
  {
    id: 7,
    name: "BLACK OPIUM",
    category: "Oriental",
    description: "L'opium noir révèle ses secrets dans cette composition addictive où le café rencontre l'ylang-ylang et la vanille.",
    notes: ["Fleur d'Oranger", "Poire", "Poivre Rose", "Café", "Cèdre", "Vanille", "Bois de Santal", "Patchouli"],
    personality: ["addictif", "mystérieux", "intense", "moderne"],
    mood: ["séduisant", "énergique", "mystérieux"]
  },
  {
    id: 8,
    name: "BLACK VANILLA",
    category: "Gourmand",
    description: "La vanille noire dans toute sa splendeur gourmande, enrichie de cassis et de noix de coco pour une gourmandise raffinée.",
    notes: ["Cassis", "Pêche Blanche", "Noix de Coco Malgache", "Musc Blanc", "Noix de Muscade", "Baie Rose", "Jasmin", "Cèdre", "Patchouli", "Santal"],
    personality: ["gourmand", "luxueux", "sensuel", "raffiné"],
    mood: ["confortable", "gourmand", "séduisant"]
  },
  {
    id: 9,
    name: "CALIFORNIALOVE",
    category: "Frais",
    description: "L'esprit libre de la Californie dans ce mélange solaire où la fève de tonka danse avec la bergamote et la framboise.",
    notes: ["Fève de Tonka", "Bois de Santal", "Notes Florales Rouges", "Bergamote", "Framboise"],
    personality: ["libre", "solaire", "moderne", "décontracté"],
    mood: ["optimiste", "libre", "ensoleillé"]
  },
  {
    id: 10,
    name: "CHANEL",
    category: "Floral",
    description: "L'élégance parisienne incarnée dans ce classique intemporel aux notes de jasmin et de rose, signature de la féminité.",
    notes: ["Jasmin", "Rose", "Ylang-Ylang", "Citron", "Cuir de Russie", "Ambre"],
    personality: ["élégant", "classique", "féminin", "intemporel"],
    mood: ["raffiné", "confiant", "élégant"]
  },
  {
    id: 11,
    name: "COCO VANILLA",
    category: "Gourmand",
    description: "Une escapade tropicale où la noix de coco rencontre la vanille de Madagascar dans une douceur crémeuse irrésistible.",
    notes: ["Noix de Coco", "Pêche Blanche", "Ylang-Ylang", "Vanille de Madagascar"],
    personality: ["tropical", "gourmand", "doux", "exotique"],
    mood: ["détendu", "gourmand", "exotique"]
  },
  {
    id: 12,
    name: "CRUSH",
    category: "Fruité",
    description: "L'éclat des fruits d'été dans cette composition pétillante où les agrumes dansent avec la vanille et le musc.",
    notes: ["Citron", "Bergamote", "Pamplemousse", "Vanille", "Musc"],
    personality: ["pétillant", "fruité", "jeune", "vivant"],
    mood: ["joyeux", "énergique", "pétillant"]
  },
  {
    id: 13,
    name: "DIONNA",
    category: "Floral",
    description: "Un hommage à la féminité divine où l'orange et la rose s'unissent dans un bouquet de vanille bourbon enchanteur.",
    notes: ["Orange", "Poire Rose", "Rhum", "Cacao", "Vanille Bourbon", "Bois de Santal"],
    personality: ["divin", "féminin", "luxueux", "enchanteur"],
    mood: ["romantique", "divin", "luxueux"]
  },
  {
    id: 14,
    name: "DOLLAR HONEY",
    category: "Gourmand",
    description: "L'or liquide du miel cristallisé dans cette composition précieuse où chaque note brille comme un trésor.",
    notes: ["Miel", "Fleur de Colza", "Héliotrope", "Vanille", "Musc", "Bois de Santal"],
    personality: ["précieux", "doré", "luxueux", "miellé"],
    mood: ["luxueux", "gourmand", "précieux"]
  },
  {
    id: 15,
    name: "DUBAI OUD",
    category: "Oud",
    description: "Les fastes de Dubaï capturés dans ce oud royal où la rose et le safran couronnent une composition d'exception.",
    notes: ["Bois de Oud", "Bois de Gaiac", "Praline", "Bois de Cachemire", "Vanille", "Safran", "Oud"],
    personality: ["royal", "luxueux", "oriental", "prestigieux"],
    mood: ["puissant", "luxueux", "mystérieux"]
  },
  {
    id: 16,
    name: "ESCADA",
    category: "Floral",
    description: "L'innocence florale dans sa plus pure expression, où la magnolia blanche danse avec la fraîcheur du concombre.",
    notes: ["Magnolia", "Bois de Santal", "Concombre", "Vanille", "Poivre Blanc"],
    personality: ["innocent", "floral", "pur", "délicat"],
    mood: ["paisible", "innocent", "floral"]
  },
  {
    id: 17,
    name: "FÈVE",
    category: "Gourmand",
    description: "La richesse de la fève de tonka sublimée dans cette gourmandise olfactive aux accents de lavande et vanille.",
    notes: ["Lavande", "Menthe", "Jasmin", "Fève de Tonka", "Vanille"],
    personality: ["gourmand", "riche", "aromatique", "réconfortant"],
    mood: ["confortable", "gourmand", "apaisant"]
  },
  {
    id: 18,
    name: "HARD ROCK",
    category: "Boisé",
    description: "L'énergie brute du rock cristallisée dans ce parfum puissant où le musc blanc rencontre la force du bois de santal.",
    notes: ["Coriandre", "Muguet", "Bois de Santal", "Vanille"],
    personality: ["puissant", "énergique", "rebelle", "intense"],
    mood: ["énergique", "puissant", "rebelle"]
  },
  {
    id: 19,
    name: "GOLD OF OUD",
    category: "Oud",
    description: "L'or de l'oud dans sa splendeur absolue, où les fruits exotiques rencontrent la noblesse du jasmin et de la rose.",
    notes: ["Notes Fruitées", "Agrumes", "Tonka", "Jasmin"],
    personality: ["noble", "précieux", "exotique", "rare"],
    mood: ["luxueux", "mystérieux", "précieux"]
  },
  {
    id: 20,
    name: "VALENTINO",
    category: "Floral",
    description: "L'élégance italienne dans ce bouquet raffiné où la bergamote et l'ylang-ylang célèbrent la beauté féminine.",
    notes: ["Bergamote", "Fève Tonka", "Cèdre", "Ambre Gris", "Ylang-Ylang", "Ambrette"],
    personality: ["élégant", "italien", "raffiné", "féminin"],
    mood: ["raffiné", "élégant", "romantique"]
  }
];

export const quizQuestions = [
  {
    id: 1,
    question: "Si votre humeur avait une couleur aujourd'hui, laquelle serait-ce ?",
    type: "color",
    options: [
      { value: "golden", label: "Ambre Doré", personality: ["chaleureux", "confiant"], mood: ["énergique", "optimiste"] },
      { value: "deep-purple", label: "Pourpre Profond", personality: ["mystérieux", "sophistiqué"], mood: ["mystérieux", "passionné"] },
      { value: "soft-pink", label: "Rose Tendre", personality: ["doux", "romantique"], mood: ["romantique", "paisible"] },
      { value: "forest-green", label: "Vert Forêt", personality: ["enraciné", "naturel"], mood: ["paisible", "aventurier"] },
      { value: "midnight-blue", label: "Bleu Minuit", personality: ["rêveur", "éthéré"], mood: ["rêveur", "mystérieux"] }
    ]
  },
  {
    id: 2,
    question: "Choisissez un lieu pour votre évasion parfaite :",
    type: "setting",
    options: [
      { value: "jazz-bar", label: "Un bar de jazz enfumé", personality: ["sophistiqué", "audacieux"], mood: ["mystérieux", "confiant"] },
      { value: "rose-garden", label: "Un jardin de roses à l'aube", personality: ["romantique", "doux"], mood: ["paisible", "romantique"] },
      { value: "spice-market", label: "Un marché d'épices marocain", personality: ["aventurier", "exotique"], mood: ["aventurier", "énergique"] },
      { value: "library", label: "Une bibliothèque ancestrale", personality: ["intellectuel", "raffiné"], mood: ["concentré", "paisible"] },
      { value: "beach", label: "Une plage secrète", personality: ["libre", "naturel"], mood: ["paisible", "optimiste"] }
    ]
  },
  {
    id: 3,
    question: "Quelle texture vous ressemble le plus ?",
    type: "texture",
    options: [
      { value: "velvet", label: "Velours", personality: ["luxueux", "sensuel"], mood: ["romantique", "confiant"] },
      { value: "leather", label: "Cuir", personality: ["fort", "audacieux"], mood: ["confiant", "puissant"] },
      { value: "silk", label: "Soie", personality: ["élégant", "gracieux"], mood: ["paisible", "raffiné"] },
      { value: "wood", label: "Bois", personality: ["enraciné", "naturel"], mood: ["paisible", "concentré"] },
      { value: "cashmere", label: "Cachemire", personality: ["chaleureux", "doux"], mood: ["confortable", "romantique"] }
    ]
  },
  {
    id: 4,
    question: "Quel moment de la journée parle à votre âme ?",
    type: "time",
    options: [
      { value: "dawn", label: "L'aube - Premières lueurs", personality: ["frais", "optimiste"], mood: ["énergique", "paisible"] },
      { value: "golden-hour", label: "Heure dorée - Coucher de soleil", personality: ["chaleureux", "romantique"], mood: ["romantique", "optimiste"] },
      { value: "midnight", label: "Minuit - Nuit profonde", personality: ["mystérieux", "intense"], mood: ["mystérieux", "passionné"] },
      { value: "afternoon", label: "Après-midi - Soleil brillant", personality: ["énergique", "confiant"], mood: ["énergique", "confiant"] },
      { value: "twilight", label: "Crépuscule - Douceur violette", personality: ["rêveur", "sophistiqué"], mood: ["rêveur", "mystérieux"] }
    ]
  },
  {
    id: 5,
    question: "Si vous étiez une saison, laquelle seriez-vous ?",
    type: "season",
    options: [
      { value: "spring", label: "Printemps - Floraisons fraîches", personality: ["frais", "optimiste"], mood: ["joyeux", "énergique"] },
      { value: "summer", label: "Été - Chaleur dorée", personality: ["chaleureux", "confiant"], mood: ["énergique", "confiant"] },
      { value: "autumn", label: "Automne - Élégance riche", personality: ["sophistiqué", "chaleureux"], mood: ["nostalgique", "confortable"] },
      { value: "winter", label: "Hiver - Mystère cristallin", personality: ["mystérieux", "raffiné"], mood: ["paisible", "mystérieux"] }
    ]
  },
  {
    id: 6,
    question: "Quel type de musique émeut votre esprit ?",
    type: "music",
    options: [
      { value: "classical", label: "Symphonie classique", personality: ["raffiné", "sophistiqué"], mood: ["paisible", "concentré"] },
      { value: "jazz", label: "Jazz enfumé", personality: ["sophistiqué", "mystérieux"], mood: ["mystérieux", "confiant"] },
      { value: "acoustic", label: "Folk acoustique", personality: ["naturel", "doux"], mood: ["paisible", "nostalgique"] },
      { value: "electronic", label: "Électronique ambient", personality: ["moderne", "rêveur"], mood: ["rêveur", "énergique"] },
      { value: "world", label: "Musique du monde", personality: ["exotique", "aventurier"], mood: ["aventurier", "mystérieux"] }
    ]
  },
  {
    id: 7,
    question: "Votre soirée idéale serait :",
    type: "evening",
    options: [
      { value: "candlelit-dinner", label: "Dîner aux chandelles en tête-à-tête", personality: ["romantique", "intime"], mood: ["romantique", "paisible"] },
      { value: "art-gallery", label: "Explorer une galerie d'art", personality: ["intellectuel", "sophistiqué"], mood: ["concentré", "inspiré"] },
      { value: "stargazing", label: "Contempler les étoiles dans la nature", personality: ["rêveur", "naturel"], mood: ["paisible", "mystérieux"] },
      { value: "live-music", label: "Concert de musique live", personality: ["énergique", "social"], mood: ["énergique", "confiant"] },
      { value: "cozy-reading", label: "Lecture dans un coin douillet", personality: ["doux", "intellectuel"], mood: ["confortable", "paisible"] }
    ]
  }
];

export const calculatePerfumeMatch = (answers) => {
  const personalityScores = {};
  const moodScores = {};
  
  // Calculer les scores de personnalité et d'humeur basés sur les réponses
  answers.forEach(answer => {
    const question = quizQuestions.find(q => q.id === answer.questionId);
    const selectedOption = question.options.find(opt => opt.value === answer.value);
    
    selectedOption.personality.forEach(trait => {
      personalityScores[trait] = (personalityScores[trait] || 0) + 1;
    });
    
    selectedOption.mood.forEach(moodTrait => {
      moodScores[moodTrait] = (moodScores[moodTrait] || 0) + 1;
    });
  });
  
  // Évaluer chaque parfum basé sur les correspondances de personnalité et d'humeur
  const scoredPerfumes = perfumes.map(perfume => {
    let score = 0;
    
    perfume.personality.forEach(trait => {
      score += personalityScores[trait] || 0;
    });
    
    perfume.mood.forEach(moodTrait => {
      score += moodScores[moodTrait] || 0;
    });
    
    return { ...perfume, score };
  });
  
  // Trier par score et retourner les 3 meilleurs
  return scoredPerfumes
    .sort((a, b) => b.score - a.score)
    .slice(0, 3);
};